# –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ —Å–±–æ—è—Ö –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ "No Logs = No Trading" –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –æ–±–µ—Ä—Ç–æ–∫ –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤. –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–º–∞–µ—Ç—Å—è, —Å–µ—Ä–≤–∏—Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

**–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è**: –õ–æ–≥–∏ —Å–ª–æ–º–∞–ª–∏—Å—å ‚Üí –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å ‚Üí `os._exit(1)`

### –ú–µ—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–ü—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** ([`logger_config.py:75-88`](src/logging_system/logger_config.py:75))
   - –ï—Å–ª–∏ –Ω–µ —É–¥–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª–æ–≤—ã–π handler
   - –í—ã–≤–æ–¥: `CRITICAL: Failed to configure file logging - shutting down service`

2. **–ü—Ä–∏ –∑–∞–ø–∏—Å–∏ –∫–∞–∂–¥–æ–≥–æ –ª–æ–≥–∞** ([`json_formatter.py:159-166`](src/logging_system/json_formatter.py:159))
   - –ï—Å–ª–∏ –Ω–µ —É–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å–∞—Ç—å –ª–æ–≥ —á–µ—Ä–µ–∑ `logger.log()`
   - –í—ã–≤–æ–¥: `CRITICAL: Logging system failed - shutting down service`

3. **–ü—Ä–∏ –∑–∞–ø–∏—Å–∏ error –ª–æ–≥–æ–≤ —Å exception** ([`json_formatter.py:218-225`](src/logging_system/json_formatter.py:218))
   - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—Ç—ã –¥–ª—è error() –º–µ—Ç–æ–¥–∞

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–æ–¥ –≤ [`json_formatter.py`](src/logging_system/json_formatter.py)

```python
def _log(self, level: int, message: str, ...):
    try:
        self.logger.log(level, message, extra=extra)
    except Exception as e:
        # –õ–æ–≥–∏ —Å–ª–æ–º–∞–ª–∏—Å—å - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å
        print(f"CRITICAL: Logging system failed - shutting down service: {e}", file=sys.stderr)
        os._exit(1)
```

### –ö–æ–¥ –≤ [`logger_config.py`](src/logging_system/logger_config.py)

```python
try:
    # –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–≥–æ handler
    file_handler = logging.handlers.RotatingFileHandler(...)
except Exception as e:
    # –õ–æ–≥–∏ —Å–ª–æ–º–∞–ª–∏—Å—å - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å
    print(f"CRITICAL: Failed to configure file logging - shutting down service: {e}", file=sys.stderr)
    os._exit(1)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```bash
python3 examples/simple_logging_demo.py
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Exit code 0, –ª–æ–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### 2. –ü–æ–ª–æ–º–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
python3 examples/simple_logging_demo.py break
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Exit code 1, —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```bash
python3 tests/test_logging_halt_on_failure.py
```

## üìÅ –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- [`src/logging_system/json_formatter.py`](src/logging_system/json_formatter.py) - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- [`src/logging_system/logger_config.py`](src/logging_system/logger_config.py) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –¢–µ—Å—Ç—ã –∏ –ø—Ä–∏–º–µ—Ä—ã:
- [`examples/simple_logging_demo.py`](examples/simple_logging_demo.py) - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
- [`tests/test_logging_halt_on_failure.py`](tests/test_logging_halt_on_failure.py) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π:
- [`memory-bank/logging_troubleshooting_guide.md`](memory-bank/logging_troubleshooting_guide.md) - –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ
- [`src/logging_system/troubleshooting.py`](src/logging_system/troubleshooting.py) - Python —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `src/trading_safety/` - —É–¥–∞–ª–µ–Ω–∞ –≤—Å—è –ø–∞–ø–∫–∞ TradingGuard
- `tests/test_trading_guard.py` - —É–¥–∞–ª–µ–Ω
- `examples/trading_guard_demo.py` - —É–¥–∞–ª–µ–Ω

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –í—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –õ—é–±–∞—è –æ—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
3. **–ë—ã—Å—Ç—Ä–æ—Ç–∞**: –ù–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –æ–±–µ—Ä—Ç–æ–∫
4. **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å**: –õ–æ–≥–∏–∫–∞ –æ—á–µ–≤–∏–¥–Ω–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò—Å–∫–ª—é—á–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –î–ª—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
```python
from logging_system.logger_config import configure_ai_logging
from logging_system.json_formatter import get_logger

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å)
configure_ai_logging(log_file="logs/trading.log")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å)
logger = get_logger("my_service")
logger.info("Operation completed")  # –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å os._exit(1)
```

### –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞–ª–∞ **—Å–∞–º–æ—Ä–µ–≥—É–ª–∏—Ä—É—é—â–µ–π—Å—è**:
- –õ–æ–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç ‚Üí —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- –õ–æ–≥–∏ —Å–ª–æ–º–∞–ª–∏—Å—å ‚Üí —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- –ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ù–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ —Ç–æ—Ä–≥–æ–≤–ª–µ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ª–æ–≥–æ–≤

**–ò—Ç–æ–≥–æ**: 10 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤–º–µ—Å—Ç–æ 500+ —Å—Ç—Ä–æ–∫ TradingGuard!