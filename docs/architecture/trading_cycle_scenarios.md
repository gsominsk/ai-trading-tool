# –ö–∞—Ä—Ç–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–∞.

```ascii
                                     +-------------------------+
                                     |   –°–¢–ê–†–¢ –¶–ò–ö–õ–ê (15 –º–∏–Ω)  |
                                     |   [–ü–õ–ê–ù üìù]             |
                                     +-------------------------+
                                                |
                                                v
                                     +-------------------------+
                                     |  –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ    |
                                     |  –ª–æ–≥–∞ (trade_log.csv)   |
                                     |   [–ü–õ–ê–ù üìù]             |
                                     +-------------------------+
                                                |
                  +-----------------------------+-----------------------------+
                  |                                                           |
                  v                                                           v
+------------------------------------+                      +------------------------------------+
| –°–¶–ï–ù–ê–†–ò–ô A:                          |                      | –°–¶–ï–ù–ê–†–ò–ô B:                          |
| –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö/–æ–∂–∏–¥–∞—é—â–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤     |                      | –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è/–æ–∂–∏–¥–∞—é—â–∞—è —Å–¥–µ–ª–∫–∞     |
+------------------------------------+                      +------------------------------------+
                  |                                                           |
                  v                                                           v
      +-------------------------+                           +------------------------------------+
      |   –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö  |                           |  –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö + –¥–∞–Ω–Ω—ã—Ö      |
      |   (MarketDataService)   |                           |  –æ —Å–¥–µ–ª–∫–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∞        |
      |   [–ì–û–¢–û–í–û ‚úÖ]           |                           |  [–ü–õ–ê–ù üìù]                          |
      +-------------------------+                           +------------------------------------+
                  |                                                           |
                  v                                                           v
      +-------------------------+                           +------------------------------------+
      |   –ó–∞–ø—Ä–æ—Å –∫ –ò–ò:          |                           |   –ó–∞–ø—Ä–æ—Å –∫ –ò–ò:                       |
      |   "–ò—Å–∫–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞–Ω?"  |                           |   "–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å —Ç–µ–∫—É—â–µ–π —Å–¥–µ–ª–∫–æ–π?"    |
      |   [–ü–õ–ê–ù üìù]             |                           |   [–ü–õ–ê–ù üìù]                          |
      +-------------------------+                           +------------------------------------+
                  |                                                           |
+-----------------+-----------------+                           +-------------+-------------+-----------+
|                 |                 |                           |             |             |           |
v                 v                 v                           v             v             v           v
+-----------+   +---------------+   +-----------------+       +-----------+ +-----------+ +-----------+ +-----------+
| –ò–ò:       |   | –ò–ò:           |   | –ò–ò:             |       | –ò–ò:       | | –ò–ò:       | | –ò–ò:       | | –ò–ò:       |
| DO_NOTHING|   | PLAN_TRADE    |   | –û—à–∏–±–∫–∞/–¢–∞–π–º–∞—É—Ç  |       | DO_NOTHING| |ADJUST_TRADE| |CANCEL_ORDER| | –û—à–∏–±–∫–∞    |
+-----------+   +---------------+   +-----------------+       +-----------+ +-----------+ +-----------+ +-----------+
      |                 |                 |                           |             |             |           |
      |                 v                 v                           |             |             |           |
      |   +-------------------------+   +-----------------+           |             |             |           |
      |   |  "–°–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä"    |   | Circuit Breaker |           |             |             |           |
      |   |  (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞ –ò–ò)    |   | (–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å    |           |             |             |           |
      |   |  [–ü–õ–ê–ù üìù]              |   |  —Ç–æ—Ä–≥–æ–≤–ª—é?)     |           |             |             |           |
      |   +-------------------------+   |  [–ü–õ–ê–ù üìù]      |           |             |             |           |
      |                 |                 +-----------------+           |             |             |           |
      |       +---------+---------+                                     |             |             |           |
      |       |                   |                                     |             |             |           |
      |       v                   v                                     |             |             |           |
      | +---------------+   +---------------+                           |             |             |           |
      | | –ü–ª–∞–Ω –û–¢–ö–õ–û–ù–ï–ù |   | –ü–ª–∞–Ω –ü–†–ò–ù–Ø–¢   |                           |             |             |           |
      | +---------------+   +---------------+                           |             |             |           |
      |       |                   |                                     |             |             |           |
      |       |                   v                                     |             |             |           |
      |       |         +-------------------------+                     |             |             |           |
      |       |         |  OMS: –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤|                     |             |             |           |
      |       |         |  (LIMIT + OCO)          |                     |             |             |           |
      |       |         |  [–ü–õ–ê–ù üìù]              |                     |             |             |           |
      |       |         +-------------------------+                     |             |             |           |
      |       |                   |                                     |             |             |           |
      |       |                   v                                     |             |             |           |
      |       |         +-------------------------+                     |             |             |           |
      |       |         |  –ó–∞–ø–∏—Å—å –≤ trade_log.csv |                     |             |             |           |
      |       |         |  (—Å—Ç–∞—Ç—É—Å PENDING)       |                     |             |             |           |
      |       |         |  [–ü–õ–ê–ù üìù]              |                     |             |             |           |
      |       |         +-------------------------+                     |             |             |           |
      |       |                   |                                     |             |             |           |
      +-------+-------------------+-------------------------------------+-------------+-------------+-----------+
              |                                                                       |             |
              v                                                                       v             v
+-------------------------+                                             +-----------+ +-----------+
|   –ö–û–ù–ï–¶ –¶–ò–ö–õ–ê           |                                             | OMS:      | | OMS:      |
|   (–¥–ª—è —ç—Ç–æ–≥–æ –∞–∫—Ç–∏–≤–∞)    |                                             | –ò–∑–º–µ–Ω–∏—Ç—å  | | –û—Ç–º–µ–Ω–∏—Ç—å  |
+-------------------------+                                             | –æ—Ä–¥–µ—Ä     | | –æ—Ä–¥–µ—Ä     |
                                                                        | [–ü–õ–ê–ù üìù] | | [–ü–õ–ê–ù üìù] |
                                                                        +-----------+ +-----------+
                                                                              |             |
                                                                              v             v
                                                                        +-------------------------+
                                                                        | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ trade_log.csv|
                                                                        | [–ü–õ–ê–ù üìù]               |
                                                                        +-------------------------+
                                                                              |
                                                                              v
                                                                        +-------------------------+
                                                                        |   –ö–û–ù–ï–¶ –¶–ò–ö–õ–ê           |
                                                                        |   (–¥–ª—è —ç—Ç–æ–≥–æ –∞–∫—Ç–∏–≤–∞)    |
                                                                        +-------------------------+

```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã, –æ—Ç—Ä–∞–∂–µ–Ω–Ω—ã–µ –Ω–∞ –∫–∞—Ä—Ç–µ:

1.  **–î–≤–∞ –≥–ª–∞–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è:** –¶–∏–∫–ª —Å—Ä–∞–∑—É —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Å–¥–µ–ª–∫–∞ –ø–æ –∞–∫—Ç–∏–≤—É.
2.  **–†–µ—à–µ–Ω–∏—è –ò–ò:** –ü–æ–∫–∞–∑–∞–Ω—ã –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –ò–ò –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è (`DO_NOTHING`, `PLAN_TRADE`, `ADJUST_TRADE`, `CANCEL_ORDER`).
3.  **"–°–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä":** –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω —à–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–ª–∞–Ω–∞ –æ—Ç –ò–ò –ø–µ—Ä–µ–¥ –µ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç "—Ç–æ–ª—Å—Ç—ã—Ö –ø–∞–ª—å—Ü–µ–≤" –∏ –Ω–µ–ª–æ–≥–∏—á–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤.
4.  **Circuit Breaker:** –£—á—Ç–µ–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—è API –ò–ò, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ –∞–∫—Ç–∏–≤—É.
5.  **OMS (Order Management System):** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –±–∏—Ä–∂–µ–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ OMS, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è.
6.  **–õ–æ–∫–∞–ª—å–Ω—ã–π –ª–æ–≥:** `trade_log.csv` —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ü–∏–∫–ª–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ.

–≠—Ç–∞ –∫–∞—Ä—Ç–∞ –¥–∞–µ—Ç –Ω–∞–º –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –ø–æ—Ç–æ–∫–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø–æ–º–æ–≥–∞–µ—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º—ã —É—á–ª–∏ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.